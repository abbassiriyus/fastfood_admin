(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{5324:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/carouselForm",function(){return a(6906)}])},4486:e=>{"use strict";e.exports="https://ipa.rce.uz"},9848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(4848),l=a(6540),o=a(9433),r=a.n(o);let n=e=>{let{item:t,onClose:a,onSubmit:o,setImage:n}=e,[u,c]=(0,l.useState)(null);return(0,l.useEffect)(()=>{t&&c(null)},[t]),(0,s.jsx)("div",{className:r().modal,children:(0,s.jsxs)("div",{className:r().modalContent,children:[(0,s.jsx)("span",{className:r().close,onClick:a,children:"\xd7"}),(0,s.jsx)("h2",{children:t?"Carousel Tahrirlash":"Yangi Carousel Qo'shish"}),(0,s.jsxs)("form",{onSubmit:o,children:[(0,s.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files[0];n(t),c(URL.createObjectURL(t))},required:!0}),u&&(0,s.jsx)("img",{src:u,alt:"Preview",className:r().previewImage}),(0,s.jsx)("button",{className:r().button,type:"submit",children:"Saqlash"})]})]})})}},6906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(4848),l=a(6540),o=a(4335),r=a(4486),n=a.n(r),u=a(5876),c=a.n(u),i=a(9848);let d=()=>{let[e,t]=(0,l.useState)(null),[a,r]=(0,l.useState)([]),[u,d]=(0,l.useState)(!1),[m,_]=(0,l.useState)(null),h=()=>{o.A.get("".concat(n(),"/carousel")).then(e=>r(e.data.filter(e=>e.fastfood_id==JSON.parse(localStorage.getItem("user")).id))).catch(e=>console.error(e))};(0,l.useEffect)(()=>{h()},[]);let p=t=>{t.preventDefault();let a=new FormData;a.append("image",e),a.append("fastfood_id",JSON.parse(localStorage.getItem("user")).id),u?o.A.put("".concat(n(),"/carousel/").concat(m.id),a).then(e=>{alert("Carousel yangilandi!"),d(!1),_(null),h()}).catch(e=>console.error(e)):o.A.post("".concat(n(),"/carousel"),a).then(e=>{alert("Carousel qo'shildi!"),h()}).catch(e=>console.error(e))},C=e=>{_(e),t(null),d(!0)},f=e=>{o.A.delete("".concat(n(),"/carousel/").concat(e)).then(e=>{alert("Carousel o'chirildi!"),h()}).catch(e=>console.error(e))};return(0,s.jsxs)("div",{className:c().carouselContainer,children:[(0,s.jsxs)("form",{onSubmit:p,children:[(0,s.jsx)("input",{type:"file",onChange:e=>t(e.target.files[0]),required:!0}),(0,s.jsx)("button",{className:c().button,type:"submit",children:"Qo'shish"})]}),(0,s.jsx)("ul",{className:c().carouselList,children:a.map(e=>(0,s.jsxs)("li",{className:c().carouselItem,children:[(0,s.jsx)("img",{src:e.image,alt:"Carousel",className:c().carouselImage}),(0,s.jsx)("button",{onClick:()=>C(e),className:c().editButton,children:"Tahrirlash"}),(0,s.jsx)("button",{onClick:()=>f(e.id),className:c().deleteButton,children:"O'chirish"})]},e.id))}),u&&(0,s.jsx)(i.default,{item:m,onClose:()=>d(!1),onSubmit:p,setImage:t})]})}},5876:e=>{e.exports={carouselContainer:"CarouselForm_carouselContainer__tqoEN",carouselList:"CarouselForm_carouselList__SQX_c",carouselItem:"CarouselForm_carouselItem__a9KUB",carouselImage:"CarouselForm_carouselImage__Hqwwr",button:"CarouselForm_button__jwVrV",deleteButton:"CarouselForm_deleteButton__N_opp",editButton:"CarouselForm_editButton__Hw9j8"}},9433:e=>{e.exports={modal:"CarouselModal_modal__D9MPt",modalContent:"CarouselModal_modalContent__wJYf2",close:"CarouselModal_close__kRJTu",previewImage:"CarouselModal_previewImage__8_Dkb",button:"CarouselModal_button__sSzhO"}}},e=>{var t=t=>e(e.s=t);e.O(0,[335,636,593,792],()=>t(5324)),_N_E=e.O()}]);
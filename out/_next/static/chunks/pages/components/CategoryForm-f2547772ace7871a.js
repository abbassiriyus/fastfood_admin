(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{7564:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/CategoryForm",function(){return o(3152)}])},4486:e=>{"use strict";e.exports="https://ipa.rce.uz"},3152:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m});var a=o(4848),r=o(6540),n=o(2606),s=o.n(n),l=o(4335),c=o(4486),i=o.n(c),d=o(312),u=o.n(d);let m=()=>{let[e,t]=(0,r.useState)([]),[o,n]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),[m,_]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),C=()=>{l.A.get("".concat(i(),"/categories")).then(e=>{t(e.data.filter(e=>e.fastfood_id===JSON.parse(localStorage.getItem("user")).id).sort((e,t)=>e.orders-t.orders))}).catch(e=>{console.error(e)})},g=e=>{l.A.delete("".concat(i(),"/categories/").concat(e)).then(e=>{C()})},y=t=>{let o=e.find(e=>e.id===t);_(o.name),h(o.orders),n(t),d(!0)};return(0,r.useEffect)(()=>{C()},[]),(0,a.jsxs)("div",{className:s().formContainer,children:[(0,a.jsxs)("form",{children:[(0,a.jsx)("input",{id:"nomi",className:s().input,type:"text",placeholder:"Kategoriya nomi"}),(0,a.jsx)("input",{id:"order",className:s().input,type:"number",placeholder:"Tartib raqami"}),(0,a.jsx)("button",{className:s().button,onClick:()=>{let e=new FormData;e.append("name",document.querySelector("#nomi").value),e.append("orders",document.querySelector("#order").value),e.append("fastfood_id",JSON.parse(localStorage.getItem("user")).id),l.A.post("".concat(i(),"/categories"),e).then(e=>{C()}).catch(e=>{console.error(e)})},type:"button",children:"Qo'shish"})]}),(0,a.jsx)("ul",{className:s().list,children:e.map(e=>(0,a.jsxs)("li",{className:s().listItem,children:["No: ",e.orders," ",(0,a.jsx)("h4",{children:e.name}),(0,a.jsx)("button",{className:s().deleteButton_edit,onClick:()=>y(e.id),children:"Taxrirlash"}),(0,a.jsx)("button",{className:s().deleteButton,onClick:()=>g(e.id),children:"O'chirish"})]},e.id))}),(0,a.jsxs)(u(),{isOpen:c,onRequestClose:()=>d(!1),children:[(0,a.jsx)("h2",{className:s().modalTitle,children:"Edit Category"}),(0,a.jsx)("input",{className:s().modalInput,value:m,onChange:e=>_(e.target.value),placeholder:"Kategoriya nomi"}),(0,a.jsx)("input",{className:s().modalInput,value:p,onChange:e=>h(e.target.value),type:"number",placeholder:"Tartib raqami"}),(0,a.jsx)("button",{className:s().modalButton,onClick:()=>{l.A.put("".concat(i(),"/categories/fastfood/").concat(o),{name:m,orders:p}).then(e=>{C(),d(!1)}).catch(e=>{console.error(e)})},children:"Saqlash"}),(0,a.jsx)("button",{className:"".concat(s().modalButton," ").concat(s().closeButton),onClick:()=>d(!1),children:"Yopish"})]})]})}},2606:e=>{e.exports={formContainer:"CategoryForm_formContainer__ASBf1",input:"CategoryForm_input__aD_4v",button:"CategoryForm_button__SRyxv",list:"CategoryForm_list__QohDU",listItem:"CategoryForm_listItem__naP2M",deleteButton:"CategoryForm_deleteButton__ZQt11",deleteButton_edit:"CategoryForm_deleteButton_edit__opztm",ReactModal__Overlay:"CategoryForm_ReactModal__Overlay__EdUwf",ReactModal__Content:"CategoryForm_ReactModal__Content__o0PRj",modalTitle:"CategoryForm_modalTitle__tPQX9",modalInput:"CategoryForm_modalInput__Bp4uW",modalButton:"CategoryForm_modalButton__0CLhJ",closeButton:"CategoryForm_closeButton__H4IBy"}}},e=>{var t=t=>e(e.s=t);e.O(0,[335,312,636,593,792],()=>t(7564)),_N_E=e.O()}]);
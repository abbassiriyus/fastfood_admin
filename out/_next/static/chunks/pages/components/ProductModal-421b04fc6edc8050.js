(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4920:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/ProductModal",function(){return t(6022)}])},4486:e=>{"use strict";e.exports="https://ipa.rce.uz"},6022:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var l=t(4848),o=t(6540),d=t(5728),r=t.n(d),s=t(4335),_=t(4486),u=t.n(_);let n=e=>{let{isOpen:a,onClose:t,data:d}=e,[_,n]=(0,o.useState)([]),[c,i]=(0,o.useState)(!1),[m,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[x,f]=(0,o.useState)(""),[N,v]=(0,o.useState)(""),[y,S]=(0,o.useState)(""),[j,M]=(0,o.useState)("");(0,o.useEffect)(()=>{a?document.querySelector("#productModal").style.display="block":document.querySelector("#productModal").style.display="none"},[a]),(0,o.useEffect)(()=>{d&&a&&(p(d.name||""),g(d.description||""),f(d.price||""),v(d.category_id||""),S(d.image||""),M(d.orders||""),i(!1))},[d,a]);let b=()=>{s.A.get("".concat(u(),"/categories")).then(e=>{let a=JSON.parse(localStorage.getItem("user"));n(e.data.filter(e=>e.fastfood_id===a.id))}).catch(e=>{console.error(e)})};return(0,o.useEffect)(()=>{b()},[]),(0,l.jsx)("div",{id:"productModal",className:r().modal,children:(0,l.jsxs)("div",{className:r().modal__content,children:[(0,l.jsx)("span",{className:r().modal__close,onClick:t,children:"\xd7"}),(0,l.jsx)("h2",{className:r().modal__title,children:"Mahsulot Ma'lumotlari"}),(0,l.jsxs)("form",{className:r().modal__form,onSubmit:e=>{e.preventDefault();let a=new FormData;if(a.append("name",m),a.append("category_id",N),a.append("description",h),a.append("price",x),a.append("orders",j),c){let e=document.querySelector("#fileInput").files[0];a.append("image",e)}else a.append("image",y);s.A.put("".concat(u(),"/products/fastfood/").concat(d.id),a).then(e=>{alert("Mahsulot o'zgartirildi!"),t()}).catch(e=>{alert("Xatolik yuz berdi: "+e.message)})},children:[(0,l.jsx)("input",{className:r().modal__input,value:m,onChange:e=>p(e.target.value),type:"text",placeholder:"Mahsulot Nomi",required:!0}),(0,l.jsxs)("select",{className:r().modal__input,value:N,onChange:e=>v(e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Tanlang"}),_.map((e,a)=>(0,l.jsx)("option",{value:e.id,children:e.name},a))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"checkbox",checked:c,onChange:e=>i(e.target.checked)})," File"]}),c?(0,l.jsx)("input",{id:"fileInput",className:r().modal__input,type:"file",required:!0}):(0,l.jsx)("input",{id:"imageInput",className:r().modal__input,value:y,onChange:e=>S(e.target.value),type:"text",placeholder:"Rasm URL",required:!0}),(0,l.jsx)("textarea",{className:r().modal__textarea,value:h,onChange:e=>g(e.target.value),placeholder:"TaÊ¼rif",required:!0}),(0,l.jsx)("input",{className:r().modal__input,value:j,onChange:e=>M(e.target.value),type:"number",placeholder:"Tartib raqami (orders)",required:!0}),(0,l.jsx)("input",{className:r().modal__input,value:x,onChange:e=>f(e.target.value),type:"number",placeholder:"Narxi",required:!0}),(0,l.jsx)("button",{className:r().modal__button,type:"submit",children:"Saqlash"})]})]})})}},5728:e=>{e.exports={modal:"ProductModal_modal__JYWs8",modal__content:"ProductModal_modal__content__57uHR",modal__close:"ProductModal_modal__close___SN2S",modal__title:"ProductModal_modal__title__BKB_5",modal__form:"ProductModal_modal__form__lqH77",modal__input:"ProductModal_modal__input__TRsSw",modal__textarea:"ProductModal_modal__textarea__etuDa",modal__label:"ProductModal_modal__label__Ud1gl",modal__button:"ProductModal_modal__button__yOrCo"}}},e=>{var a=a=>e(e.s=a);e.O(0,[335,636,593,792],()=>a(4920)),_N_E=e.O()}]);
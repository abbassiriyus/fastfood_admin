(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{7060:(t,a,e)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/DiagrammaProduct",function(){return e(9972)}])},4486:t=>{"use strict";t.exports="https://ipa.rce.uz"},9972:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>c});var r=e(4848),d=e(6540),l=e(4731),s=e(6118),_=e(2430),o=e.n(_),n=e(4335),i=e(4486),u=e.n(i);s.t1.register(...s.$L);let c=()=>{let[t,a]=(0,d.useState)(null);var[e,s]=(0,d.useState)([]);function _(t,a,e){let r=new Date(a),d=new Date(e);return t.filter(t=>{let a=new Date(t.created_at);return a>=r&&a<=d})}let i=()=>{n.A.get("".concat(u(),"/zakaz_products")).then(t=>{n.A.get("".concat(u(),"/products")).then(a=>{for(let e=0;e<t.data.length;e++)for(let r=0;r<a.data.length;r++)t.data[e].product_id==a.data[r].id&&(t.data[e].product_name=a.data[r].name);var e=t.data.filter(t=>t.fastfood_id==JSON.parse(localStorage.getItem("user")).id);c(_(e,document.querySelector("#start").value,document.querySelector("#end").value)),s(_(e,document.querySelector("#start").value,document.querySelector("#end").value))})})};(0,d.useEffect)(()=>{n.A.get("".concat(u(),"/zakaz_products")).then(t=>{n.A.get("".concat(u(),"/products")).then(a=>{for(let e=0;e<t.data.length;e++)for(let r=0;r<a.data.length;r++)t.data[e].product_id==a.data[r].id&&(t.data[e].product_name=a.data[r].name);s(t.data.filter(t=>t.fastfood_id==JSON.parse(localStorage.getItem("user")).id)),c(t.data.filter(t=>t.fastfood_id==JSON.parse(localStorage.getItem("user")).id))})})},[]);let c=t=>{let e={};t.forEach(t=>{e[t.product_name]?e[t.product_name]+=t.count:e[t.product_name]=t.count}),a({labels:Object.keys(e),datasets:[{label:"Sotilgan mahsulotlar soni",data:Object.values(e),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]})};return(0,r.jsxs)("div",{className:o().dashboard,children:[(0,r.jsxs)("div",{className:o()["date-filter"],children:[(0,r.jsx)("h2",{className:o()["date-filter__title"],children:"Sana Filtri"}),(0,r.jsx)("label",{className:o()["date-filter__label"],htmlFor:"start",children:"Boshlash:"}),(0,r.jsx)("input",{type:"date",id:"start",className:o()["date-filter__input"]}),(0,r.jsx)("label",{className:o()["date-filter__label"],htmlFor:"end",children:"Tugash:"}),(0,r.jsx)("input",{type:"date",id:"end",className:o()["date-filter__input"]}),(0,r.jsx)("button",{className:o()["date-filter__button"],onClick:()=>i(),children:"Filter"})]}),t?(0,r.jsx)(l.yP,{data:t,options:{scales:{y:{beginAtZero:!0}}}}):(0,r.jsx)("p",{children:"Ma'lumotlar yuklanmoqda..."})]})}},2430:t=>{t.exports={dashboard:"Dashboard_dashboard__q8TOG",title:"Dashboard_title__qr0XO",stats:"Dashboard_stats__azX8E",statCard:"Dashboard_statCard__NLeQN",button:"Dashboard_button__q3ueb",latestOrders:"Dashboard_latestOrders__NhqrF",searchInput:"Dashboard_searchInput__Eh7BC",pagination:"Dashboard_pagination__PZhh_",filters:"Dashboard_filters__WNPQi",selectedDateOrders:"Dashboard_selectedDateOrders__AMOoK","date-filter":"Dashboard_date-filter__KYLTu","date-filter__title":"Dashboard_date-filter__title__re8Pm","date-filter__label":"Dashboard_date-filter__label__tHyo5","date-filter__input":"Dashboard_date-filter__input__HGTEm","date-filter__button":"Dashboard_date-filter__button__FO2wz"}}},t=>{var a=a=>t(t.s=a);t.O(0,[201,335,454,636,593,792],()=>a(7060)),_N_E=t.O()}]);
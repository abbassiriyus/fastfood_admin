(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,s,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(7031)}])},4486:e=>{"use strict";e.exports="https://ipa.rce.uz"},7031:(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>g});var n=o(4848),l=o(6540),a=o(4335),t=o(6188),i=o.n(t),_=o(4486),r=o.n(_);function g(){let[e,s]=(0,l.useState)(""),[o,t]=(0,l.useState)("");return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:i().loginContainer,children:(0,n.jsxs)("form",{className:i().loginForm,onSubmit:s=>{s.preventDefault();let n=new FormData;n.append("username",e),n.append("password",o),a.A.post("".concat(r(),"/users/login"),n).then(e=>{200===e.status&&(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),1==e.data.user.type?window.location="/ofitsant":3==e.data.user.type?window.location="/admin":2==e.data.user.type?window.location="/fastfood":window.location="/",console.log("Login successful"))}).catch(e=>{console.error("Login failed:",e.response?e.response.data:e.message)})},children:[(0,n.jsx)("h1",{className:i().loginForm__title,children:"Login"}),(0,n.jsx)("h1",{style:{color:"#2b2e31"},className:i().loginForm__title,id:"time"}),(0,n.jsxs)("div",{className:i().loginForm__group,children:[(0,n.jsx)("label",{className:i().loginForm__label,htmlFor:"username",children:"Foydalanuvchi nomi:"}),(0,n.jsx)("input",{className:i().loginForm__input,type:"text",id:"username",name:"username",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:i().loginForm__group,children:[(0,n.jsx)("label",{className:i().loginForm__label,htmlFor:"password",children:"Parol:"}),(0,n.jsx)("input",{className:i().loginForm__input,type:"password",id:"password",name:"password",value:o,onChange:e=>t(e.target.value),required:!0})]}),(0,n.jsx)("button",{className:i().loginForm__button,type:"submit",children:"Kirish"}),(0,n.jsxs)("p",{className:i().loginMessage,children:["Hisobingiz yo'qmi? ",(0,n.jsx)("a",{className:i().loginMessage__link,href:"#",children:"Ro'yxatdan o'ting"})]})]})})})}},6188:e=>{e.exports={loginContainer:"styles_loginContainer___2Ijn",fade:"styles_fade__V_Mjw",loginContainer__time:"styles_loginContainer__time__9pj6W",loginForm:"styles_loginForm__7hZMy",loginForm__title:"styles_loginForm__title__jozDi",loginForm__group:"styles_loginForm__group__sgMCp",loginForm__label:"styles_loginForm__label__NZ1wZ",loginForm__input:"styles_loginForm__input__OctHf",loginForm__button:"styles_loginForm__button___cTEI",loginMessage:"styles_loginMessage__Qcx7G",loginMessage__link:"styles_loginMessage__link__asNJA"}}},e=>{var s=s=>e(e.s=s);e.O(0,[335,636,593,792],()=>s(7276)),_N_E=e.O()}]);
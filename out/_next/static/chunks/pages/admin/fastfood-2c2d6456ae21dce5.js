(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{2770:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/fastfood",function(){return s(8245)}])},3159:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var n=s(4848);s(6540);var a=s(6715),o=s(5418),l=s.n(o);let d=e=>{let{children:t}=e,s=(0,a.useRouter)(),o=e=>{s.push("/admin/".concat(e))};return(0,n.jsxs)("div",{className:l().layout,children:[(0,n.jsxs)("header",{className:l().header,children:[(0,n.jsxs)("div",{onClick:()=>window.location="/admin/",className:l().logo,children:["menu",(0,n.jsx)("span",{children:"go"})]}),(0,n.jsxs)("nav",{className:l().nav,children:[(0,n.jsx)("button",{onClick:()=>o("fastfood"),children:"Users"}),(0,n.jsx)("button",{onClick:()=>o("dashboard"),children:"Daromat"}),(0,n.jsx)("button",{onClick:()=>o("zakaz"),children:"Zakazlar"}),(0,n.jsx)("button",{onClick:()=>o("users"),children:"Offitsant"})]})]}),(0,n.jsx)("main",{className:l().content,children:t}),(0,n.jsx)("footer",{className:l().footer,children:"\xa92025 Created by Your Name"})]})}},4486:e=>{"use strict";e.exports="https://ipa.rce.uz"},8245:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(4848),a=s(6540),o=s(4335),l=s(4486),d=s.n(l),c=s(3159),i=s(2562),r=s.n(i);let u=()=>{let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[x,_]=(0,a.useState)(1),[j,b]=(0,a.useState)(!1),[p,F]=(0,a.useState)(null);(0,a.useEffect)(()=>{N()},[]);let N=async()=>{t((await o.A.get("".concat(d(),"/users"))).data.sort((e,t)=>(e.orders||0)-(t.orders||0)))},v=async e=>{e.preventDefault();let t=new FormData(e.target);i?await o.A.put("".concat(d(),"/users/").concat(i.id),t):await o.A.post("".concat(d(),"/users/register"),t),l(!1),N()},f=async e=>{await o.A.delete("".concat(d(),"/users/").concat(e)),N()},k=e=>{u(e),l(!0)},C=e=>{F(e),b(!0)},y=e.filter(e=>e.type===x);return(0,n.jsxs)(c.A,{children:[(0,n.jsxs)("div",{className:r().buttonGroup,children:[(0,n.jsx)("button",{onClick:()=>_(1),children:"Offitsant"}),(0,n.jsx)("button",{onClick:()=>_(2),children:"FastFood"}),(0,n.jsx)("button",{onClick:()=>_(3),children:"Admin"})]}),(0,n.jsx)("button",{className:r().addButton,onClick:()=>k(null),children:"Add User"}),(0,n.jsxs)("table",{className:r().table,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Username"}),(0,n.jsx)("th",{children:"Phone Number"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"order"}),(0,n.jsx)("th",{children:"Active"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:y.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.username}),(0,n.jsx)("td",{children:e.phone_number}),(0,n.jsx)("td",{children:e.type}),(0,n.jsx)("td",{children:e.orders}),(0,n.jsx)("td",{children:e.is_active?"Yes":"No"}),(0,n.jsxs)("td",{style:{display:"flex",gap:"10px"},children:[(0,n.jsx)("button",{onClick:()=>k(e),className:r().editButton,children:"Edit"}),(0,n.jsx)("button",{onClick:()=>C(e),className:r().deleteButton,children:"Delete"})]})]},e.id))})]}),s&&(0,n.jsx)("div",{className:r().modal,children:(0,n.jsxs)("form",{onSubmit:v,className:r().modalForm,children:[(0,n.jsx)("h2",{children:i?"Edit User: ".concat(i.username):"Add User"}),(0,n.jsxs)("label",{children:["Username:",(0,n.jsx)("input",{name:"username",defaultValue:(null==i?void 0:i.username)||"",required:!0})]}),(0,n.jsxs)("label",{children:["Phone Number:",(0,n.jsx)("input",{name:"phone_number",defaultValue:(null==i?void 0:i.phone_number)||"",required:!0})]}),(0,n.jsxs)("label",{children:["Type:",(0,n.jsxs)("select",{name:"type",defaultValue:(null==i?void 0:i.type)||"",required:!0,children:[(0,n.jsx)("option",{value:"1",children:"Offitsant"}),(0,n.jsx)("option",{value:"2",children:"FastFood"}),(0,n.jsx)("option",{value:"3",children:"Admin"})]})]}),(0,n.jsxs)("label",{children:["Orders:",(0,n.jsx)("input",{type:"number",name:"orders",defaultValue:(null==i?void 0:i.orders)||""})]}),(0,n.jsxs)("label",{children:["Description:",(0,n.jsx)("textarea",{name:"description",defaultValue:(null==i?void 0:i.description)||""})]}),(0,n.jsxs)("label",{children:["Prosent:",(0,n.jsx)("input",{type:"number",name:"prosent",defaultValue:(null==i?void 0:i.prosent)||""})]}),(0,n.jsxs)("label",{className:r().checkboxLabel,children:["Is Active:",(0,n.jsxs)("div",{className:r().checkboxContainer,children:[(0,n.jsx)("input",{type:"checkbox",name:"is_active",defaultChecked:(null==i?void 0:i.is_active)||!1}),(0,n.jsx)("span",{className:r().checkboxCustom})]})]}),(0,n.jsxs)("div",{className:r().modalButtons,children:[(0,n.jsx)("button",{type:"submit",className:r().submitButton,children:"Submit"}),(0,n.jsx)("button",{type:"button",className:r().cancelButton,onClick:()=>l(!1),children:"Cancel"})]})]})}),j&&(0,n.jsx)("div",{className:r().modal,children:(0,n.jsxs)("div",{className:r().deleteModalContent,children:[(0,n.jsxs)("h2",{children:["Siz rostab ham ",null==p?void 0:p.username,"ni o'chirmoqchimisiz?"]}),(0,n.jsxs)("div",{className:r().modalButtons,children:[(0,n.jsx)("button",{className:r().submitButton,onClick:()=>{f(p.id),b(!1)},children:"Yes"}),(0,n.jsx)("button",{className:r().cancelButton,onClick:()=>b(!1),children:"No"})]})]})})]})}},5418:e=>{e.exports={layout:"Layout_layout__Y0zgz",header:"Layout_header__3MyD7",nav:"Layout_nav__lgtID",logo:"Layout_logo__jEC1A",content:"Layout_content__EbiXf",footer:"Layout_footer__XhvoB"}},2562:e=>{e.exports={table:"FastFood_table___25oN",buttonGroup:"FastFood_buttonGroup__5BmZB",addButton:"FastFood_addButton__ecANN",editButton:"FastFood_editButton___JJcq",deleteButton:"FastFood_deleteButton__ni9mg",modal:"FastFood_modal__WFbxc",modalForm:"FastFood_modalForm__2FFxV",passwordInput:"FastFood_passwordInput__qy2Rs",checkboxContainer:"FastFood_checkboxContainer__K5mDH",checkboxCustom:"FastFood_checkboxCustom__gkz1l",checkboxLabel:"FastFood_checkboxLabel__cbC5g",modalButtons:"FastFood_modalButtons__TC4iQ",submitButton:"FastFood_submitButton__G_CBF",cancelButton:"FastFood_cancelButton__1iuRD",deleteModalContent:"FastFood_deleteModalContent__5U78Q"}},6715:(e,t,s)=>{e.exports=s(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[335,636,593,792],()=>t(2770)),_N_E=e.O()}]);